{"componentChunkName":"component---src-templates-blog-template-js","path":"/b-branch-convention/","result":{"data":{"cur":{"id":"c708287e-906e-5b9e-8d29-bb405931656b","html":"<h2 id=\"branch-type\" style=\"position:relative;\"><a href=\"#branch-type\" aria-label=\"branch type permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Branch type</h2>\n<blockquote>\n<p>ë¸Œëœì¹˜ ì „ëµì€ ê°„ëµí•œ Git flow ì „ëµì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n</blockquote>\n<ul>\n<li>main (master) : ê°œë°œ ì„œë²„ ë°°í¬ë¥¼ ìœ„í•œ ë¸Œëœì¹˜</li>\n<li>#{issue number}/name : ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•œ ë¸Œëœì¹˜</li>\n</ul>\n<h2 id=\"branch-naming\" style=\"position:relative;\"><a href=\"#branch-naming\" aria-label=\"branch naming permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Branch Naming</h2>\n<aside>\nğŸ’¡ #{issue number}/{name}\n</aside>\n<ul>\n<li>ë¸Œëœì¹˜ëª…ì€ ë°˜ë“œì‹œ <strong>ì†Œë¬¸ìë¡œë§Œ ì‘ì„±</strong>í•´ì£¼ì‹œê³ , <strong>ì¼€ë°¥ ì¼€ì´ìŠ¤ë¡œ ì‘ì„±</strong>í•©ë‹ˆë‹¤.</li>\n<li>nameì€ ìŠ¤í”„ë¦°íŠ¸ë¥¼ ì˜ì–´ë¡œ ìš”ì•½í•˜ì—¬ ì‘ì„±í•´ì£¼ì„¸ìš”.</li>\n</ul>","excerpt":"Branch type ë¸Œëœì¹˜ ì „ëµì€ ê°„ëµí•œ Git flow ì „ëµì„ ì‚¬ìš©í•©ë‹ˆë‹¤. main (master) : ê°œë°œ ì„œë²„ ë°°í¬ë¥¼ ìœ„í•œ ë¸Œëœì¹˜ #{issue number}/name : ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•œ ë¸Œëœì¹˜ Branch Naming ë¸Œëœì¹˜ëª…ì€ ë°˜ë“œì‹œ ì†Œë¬¸ìë¡œë§Œ ì‘ì„±í•´ì£¼ì‹œê³ , ì¼€ë°¥ ì¼€ì´ìŠ¤ë¡œ ì‘ì„±í•©ë‹ˆë‹¤. nameì€ ìŠ¤í”„ë¦°íŠ¸ë¥¼ ì˜ì–´ë¡œ ìš”ì•½í•˜ì—¬ ì‘ì„±í•´ì£¼ì„¸ìš”.","frontmatter":{"date":"December 26, 2023","title":"Backend Branch Convention","categories":"Backend Convention","author":"ìœ í¬ì§„","emoji":"ğŸ“"},"fields":{"slug":"/b-branch-convention/"}},"next":{"id":"890a2081-c4cd-5af0-a028-6e6b67b42a5b","html":"<h2 id=\"commit-message-form\" style=\"position:relative;\"><a href=\"#commit-message-form\" aria-label=\"commit message form permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Commit Message Form</h2>\n<aside>\nğŸ’¡ {type}: {message} (#{issueNumber})\n{description (optional)}\n</aside>\n<ul>\n<li><code class=\"language-text\">description</code>ì€ ì²« ì¤„ ì‘ì„± í›„ ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì„ íƒ ì‚¬í•­)</li>\n</ul>\n<h3 id=\"ì‚¬ìš©-ì˜ˆì‹œ\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\" aria-label=\"ì‚¬ìš© ì˜ˆì‹œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‚¬ìš© ì˜ˆì‹œ</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.444444444444446%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABE0lEQVQY0z2Qy26DMBBF+YGkwYDH4MHGNsaYd55ikUiJukHddNf//5SKUFU6u9GRzp0gApGkBUODRQVcM9SE4keUbhxiHiYYJkgoEpoTipQbEA7Q0qwIXHu6v5bHa/n6/rk/l/tz6abZtadumvvjrGyHhUNVZ8IyNIxr5c/29GnHBy9cIHRt/eSHazNcfX9px1vVHNvx1o637jivp/7iurPQnmYKuIZM0VRCVjDUAaBRthemOcT8HZZvnRGICPKYyZiJmK3T/uQVA9ysMirdjGtkWQ/G9arqKj+W9ZCkMk43U75lGSb8/xd7wiLIgwgwzbXQdVF64CoTpbKtsq00Xuh6I1dOlj5J5S6EPWF7wnYhEIq/rlwuR4xWSlkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì‚¬ì§„\"\n        title=\"ì‚¬ì§„\"\n        src=\"/static/70deaa783cfa57a2a5b6be97e9a90b8e/37523/1.png\"\n        srcset=\"/static/70deaa783cfa57a2a5b6be97e9a90b8e/e9ff0/1.png 180w,\n/static/70deaa783cfa57a2a5b6be97e9a90b8e/f21e7/1.png 360w,\n/static/70deaa783cfa57a2a5b6be97e9a90b8e/37523/1.png 720w,\n/static/70deaa783cfa57a2a5b6be97e9a90b8e/302a4/1.png 1080w,\n/static/70deaa783cfa57a2a5b6be97e9a90b8e/ccf0c/1.png 1428w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">feat: board create í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± (#32)\nboard ë„ë©”ì¸ì—ì„œ ê²Œì‹œë¬¼ì„ ìƒì„±í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ @WebMvcTestë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì„±í–ˆë‹¤.</code></pre></div>\n<h2 id=\"type\" style=\"position:relative;\"><a href=\"#type\" aria-label=\"type permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Type</h2>\n<ul>\n<li>ë©”ì„¸ì§€ íƒ€ì…ì€ ë°˜ë“œì‹œ ì†Œë¬¸ìë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>feat</td>\n<td>ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>fix</td>\n<td>ì˜¤ë¥˜ ìˆ˜ì • ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>docs</td>\n<td>README.md ë“±ì˜ ë¬¸ì„œ ì‘ì„± ë° ìˆ˜ì • ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>style</td>\n<td>ë“¤ì—¬ì“°ê¸°, ì¼€ì´ìŠ¤ ë“± ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½ ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤. (ex. ì¹´ë©œ ì¼€ì´ìŠ¤ â†’ ìŠ¤ë„¤ì´í¬ ì¼€ì´ìŠ¤)</td>\n</tr>\n<tr>\n<td>refactor</td>\n<td>ë¶ˆí•„ìš”í•œ ì½”ë“œ ì‚­ì œ, ì½”ë“œ ë¦¬íŒ©í† ë§ ë“±ì˜ ì „ë°˜ì ì¸ í”„ë¡œì íŠ¸ ë¦¬íŒ©í† ë§ ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>test</td>\n<td>í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>ci/cd</td>\n<td>CI/CD ì„¤ì • íŒŒì¼ ìˆ˜ì • ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>hotfix</td>\n<td>ì¹˜ëª…ì ì¸ ì˜¤ë¥˜ë¥¼ ê¸‰íˆ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>rename</td>\n<td>íŒŒì¼ ì´ë¦„ ë³€ê²½ ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>perf</td>\n<td>ì„±ëŠ¥ ê°œì„  ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>chore</td>\n<td>ê¸°íƒ€ ì‚¬ì†Œí•œ ìˆ˜ì • ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"message\" style=\"position:relative;\"><a href=\"#message\" aria-label=\"message permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Message</h2>\n<ul>\n<li>ë©”ì„¸ì§€ëŠ” â€˜~ë‹¤â€™ë¡œ ëë‚˜ì§€ ì•Šìœ¼ë©°, <strong>í•œ ì¤„ë¡œ ìš”ì•½</strong>í•©ë‹ˆë‹¤.\n<ul>\n<li>ìƒì„¸í•œ ë‚´ìš©ì„ ì‘ì„±í•˜ê³ ì í•œë‹¤ë©´ <code class=\"language-text\">description</code> ìœ„ì¹˜ì— ì ì–´ì£¼ì„¸ìš”.</li>\n</ul>\n</li>\n<li>ë©”ì„¸ì§€ë¥¼ ê¹”ë”í•˜ê²Œ ì‘ì„±í•˜ê¸° ìœ„í•´ <strong>ê¸°ëŠ¥ êµ¬í˜„ ë‹¨ìœ„ë¡œ commit</strong> í•´ì£¼ì„¸ìš”.</li>\n<li><code class=\"language-text\">description</code>ì€ <strong>ë¬´ì—‡ì„, ì™œ í–ˆëŠ”ì§€ ë“±ì˜ ìƒì„¸í•œ ë‚´ìš©</strong>ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.</li>\n</ul>\n<h2 id=\"ì°¸ê³ -ì‚¬ì´íŠ¸\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%82%AC%EC%9D%B4%ED%8A%B8\" aria-label=\"ì°¸ê³  ì‚¬ì´íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³  ì‚¬ì´íŠ¸</h2>\n<p><a href=\"https://velog.io/@outstandingboy/Git-%EC%BB%A4%EB%B0%8B-%EB%A9%94%EC%8B%9C%EC%A7%80-%EA%B7%9C%EC%95%BD-%EC%A0%95%EB%A6%AC-the-AngularJS-commit-conventions#%EC%BB%A4%EB%B0%8B-%EB%A9%94%EC%8B%9C%EC%A7%80-%ED%97%A4%EB%8D%94-commit-message-header\">AngluarJS commit convention (ë²ˆì—­ë³¸)</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#commit-message-form\">Commit Message Form</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\">ì‚¬ìš© ì˜ˆì‹œ</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#type\">Type</a></p>\n</li>\n<li>\n<p><a href=\"#message\">Message</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%82%AC%EC%9D%B4%ED%8A%B8\">ì°¸ê³  ì‚¬ì´íŠ¸</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"December 26, 2023","title":"Backend Commit Convention","categories":"Backend Convention","author":"ìœ í¬ì§„","emoji":"ğŸ“"},"fields":{"slug":"/b-commit-convention/"}},"prev":{"id":"8b868113-03c0-5a76-b495-aadd07c24a27","html":"<h2 id=\"ì¶”ì²œë¹„ì¶”ì²œ-ë¡œì§-ê°œì„ \" style=\"position:relative;\"><a href=\"#%EC%B6%94%EC%B2%9C%EB%B9%84%EC%B6%94%EC%B2%9C-%EB%A1%9C%EC%A7%81-%EA%B0%9C%EC%84%A0\" aria-label=\"ì¶”ì²œë¹„ì¶”ì²œ ë¡œì§ ê°œì„  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¶”ì²œ/ë¹„ì¶”ì²œ ë¡œì§ ê°œì„ </h2>\n<p>Q&#x26;A ì¶”ì²œ/ë¹„ì¶”ì²œ ë¡œì§ì„ ì´ì „ì—ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// Q&amp;A ì¶”ì²œ ë¡œì§ ì½”ë“œ</span>\n<span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">createLike</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> qnaId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMember</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token class-name\">QnA</span> qna <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkQnAValidate</span><span class=\"token punctuation\">(</span>qnaId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token class-name\">QnALikeDislikeId</span> id <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QnALikeDislikeId</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\tqnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n\t    <span class=\"token punctuation\">.</span><span class=\"token function\">ifPresentOrElse</span><span class=\"token punctuation\">(</span>\n\t        result <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n\t            <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">getStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t                <span class=\"token keyword\">case</span> <span class=\"token class-name\">G</span><span class=\"token operator\">:</span>\n\t                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateDeleteStatus</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t                    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t\n\t                <span class=\"token keyword\">case</span> <span class=\"token class-name\">B</span><span class=\"token operator\">:</span>\n\t                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">getIsDeleted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t                        qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">recoverLikeDislike</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t                    <span class=\"token punctuation\">}</span>\n\t                    qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">updateQnALikeStatusToGood</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t                    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t            <span class=\"token punctuation\">}</span>\n\t        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n\t            <span class=\"token class-name\">QnALikeDislike</span> likeDislike <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QnALikeDislike</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">LikeStatus</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"G\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t            qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>likeDislike<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t        <span class=\"token punctuation\">}</span>\n\t    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateLikesAndDislikes</span><span class=\"token punctuation\">(</span>qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">updateDeleteStatus</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QnALikeDislike</span> likeDislike<span class=\"token punctuation\">,</span> <span class=\"token class-name\">QnALikeDislikeId</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>likeDislike<span class=\"token punctuation\">.</span><span class=\"token function\">getIsDeleted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">deleteById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">.</span><span class=\"token function\">getMember</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">.</span><span class=\"token function\">getQna</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">recoverLikeDislike</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">.</span><span class=\"token function\">getMember</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">.</span><span class=\"token function\">getQna</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// repository</span>\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n        value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"SET status = 'G' \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna AND isDeleted = false\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToGood</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"SET status = 'B' \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna AND isDeleted = false\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToBad</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"SET isDeleted = true \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">deleteById</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê¸°ì¡´ ì¶”ì²œ/ë¹„ì¶”ì²œ ë¡œì§ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ol>\n<li>\n<p>qnaId, memberIdë¥¼ ì´ìš©í•´ ì¶”ì²œ/ë¹„ì¶”ì²œ ë°ì´í„°ë¥¼ findByIdë¡œ ë°›ì•„ì˜¨ë‹¤.</p>\n</li>\n<li>\n<p>ë§Œì•½ ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš°, ì•„ë˜ì™€ ê°™ì´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•œë‹¤. (ì¶”ì²œ ë¡œì§ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•œë‹¤.)</p>\n<ol>\n<li><code class=\"language-text\">G(ì¶”ì²œ)</code>, <code class=\"language-text\">B(ë¹„ì¶”ì²œ)</code> ì—¬ë¶€ë¥¼ ë°›ì•„ì˜¨ë‹¤.</li>\n<li>ë§Œì•½ <strong>ìƒíƒœê°€ ì¶”ì²œ</strong>ì´ë¼ë©´, ì‚­ì œê°€ ì•ˆ ëœ ê²½ìš° ì¶”ì²œ ì·¨ì†Œë¡œ ì¸ì‹í•˜ê³  í•´ë‹¹ ë°ì´í„°ë¥¼ ì‚­ì œí•œë‹¤.</li>\n<li><strong>ìƒíƒœê°€ ì¶”ì²œ</strong>ì¸ë° ì‚­ì œëœ ê²½ìš° ë‹¤ì‹œ ë³µêµ¬ ì‹œí‚¨ë‹¤. (ë‹¤ì‹œ ì¶”ì²œ)</li>\n<li><strong>ìƒíƒœê°€ ë¹„ì¶”ì²œ</strong>ì¸ ê²½ìš°, ë§Œì•½ í•´ë‹¹ ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìœ¼ë©´ ë³µêµ¬ í›„ ì¶”ì²œ ìƒíƒœë¡œ ë³€ê²½í•œë‹¤. (B â†’ G)</li>\n</ol>\n</li>\n<li>\n<p>ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° ìƒˆë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.</p>\n</li>\n</ol>\n<p>í•˜ì§€ë§Œ ìƒê°í•´ë³´ë‹ˆ,, ë°ì´í„°ë¥¼ êµ‰ì¥íˆ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. ğŸ¥²</p>\n<p>ì¼ë°˜ì ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ë‘ë²ˆ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ í•œ ë²ˆì— ìš”ì²­í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì¸ ê²ƒìœ¼ë¡œ ì•Œê³  ìˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ê³ ë¯¼ ëì— ì¿¼ë¦¬ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•´ ë¡œì§ì„ ê°œì„ í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">createQnALike</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> qnaId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMember</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">QnA</span> qna <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getQnA</span><span class=\"token punctuation\">(</span>qnaId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">QnALikeDislikeId</span> id <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QnALikeDislikeId</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">ifPresentOrElse</span><span class=\"token punctuation\">(</span>\n            result <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">getStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">case</span> <span class=\"token class-name\">G</span><span class=\"token operator\">:</span>\n                        qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">updateDeleteStatus</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\n                    <span class=\"token keyword\">case</span> <span class=\"token class-name\">B</span><span class=\"token operator\">:</span>\n                        qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">updateQnALikeStatusToGoodOrBad</span><span class=\"token punctuation\">(</span>\n                            member<span class=\"token punctuation\">,</span>\n                            qna<span class=\"token punctuation\">,</span>\n                            <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token class-name\">LikeStatus<span class=\"token punctuation\">.</span>G</span>\n                        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">QnALikeDislike</span> likeDislike <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QnALikeDislike</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">LikeStatus</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"G\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>likeDislike<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateLikesAndDislikes</span><span class=\"token punctuation\">(</span>qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// repository</span>\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n        value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"SET status = :status, isDeleted = :isDeleted \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToGoodOrBad</span><span class=\"token punctuation\">(</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"isDeleted\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Boolean</span> isDeleted<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LikeStatus</span> status\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"SELECT COUNT(q) \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"FROM QnALikeDislike q \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"WHERE q.id.qna = :qna AND q.status = :status AND q.isDeleted = :isDeleted\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">int</span> <span class=\"token function\">countQnALikeOrDislikeByQnAId</span><span class=\"token punctuation\">(</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LikeStatus</span> status<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"isDeleted\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Boolean</span> isDeleted\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"SET isDeleted = IF(isDeleted, false, true) \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateDeleteStatus</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê°œì„ í•œ ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ol>\n<li>\n<p><code class=\"language-text\">G(ì¶”ì²œ)</code>, <code class=\"language-text\">B(ë¹„ì¶”ì²œ)</code> ì—¬ë¶€ë¥¼ ë°›ì•„ì˜¨ë‹¤.</p>\n</li>\n<li>\n<p>ë§Œì•½ <strong>ìƒíƒœê°€ ì¶”ì²œ</strong>ì´ë¼ë©´, IF í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ì‚­ì œëœ ê²½ìš° ì‚­ì œ ì·¨ì†Œ, ì‚­ì œë˜ì§€ ì•Šì€ ê²½ìš° ì‚­ì œí•˜ë„ë¡ ì¿¼ë¦¬ë¥¼ ë³€ê²½í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SET</span> isDeleted <span class=\"token operator\">=</span> <span class=\"token keyword\">IF</span><span class=\"token punctuation\">(</span>isDeleted<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><strong>ìƒíƒœê°€ ë¹„ì¶”ì²œ</strong>ì¸ ê²½ìš°, ì‚­ì œ ì—¬ë¶€ë‘ ìƒê´€ì—†ì´ <code class=\"language-text\">isDeleted = false</code>ë¡œ ë³€ê²½í•œ í›„ ìƒíƒœë¥¼ Gë¡œ ë³€ê²½í•œë‹¤.</p>\n</li>\n</ol>\n<p>ê¸°ì¡´ ë¡œì§ê³¼ ë‹¬ë¦¬ ì¿¼ë¦¬ë¥¼ í•œ ë²ˆë§Œ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— ë¡œì§ ë° ì†ë„ë¥¼ ê°œì„ í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\n<p>ì¶”ê°€ì ìœ¼ë¡œ ë°”ì¸ë”© ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë„ë¡ JPQL ì¿¼ë¦¬ë¥¼ ìˆ˜ì •í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// ê¸°ì¡´</span>\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n        value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"SET status = 'G' \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna AND isDeleted = false\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToGood</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"SET status = 'B' \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna AND isDeleted = false\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToBad</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ê°œì„ </span>\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n        value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"SET status = :status, isDeleted = :isDeleted \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToGoodOrBad</span><span class=\"token punctuation\">(</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"isDeleted\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Boolean</span> isDeleted<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LikeStatus</span> status\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë°”ì¸ë”© ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì¥ì ì´ ìˆë‹¤. (from ì¹œì ˆí•œ SQL íŠœë‹)</p>\n<p><a href=\"https://github.com/yu-heejin/kind-SQL-tuning/blob/main/1%EC%9E%A5/1.2_SQL_%EA%B3%B5%EC%9C%A0_%EB%B0%8F_%EC%9E%AC%EC%82%AC%EC%9A%A9.md\"></a></p>\n<ul>\n<li>\n<p>SQLì˜ ê²½ìš°, ìºì‹œì— ì €ì¥ë  ë•Œ ë³„ë„ì˜ ì´ë¦„ì´ ë”°ë¡œ ì—†ê³ , SQLë¬¸ ìì²´ê°€ ì´ë¦„ì´ ëœë‹¤.</p>\n</li>\n<li>\n<p>ë”°ë¼ì„œ ê¸°ì¡´ SQLì˜ ê²½ìš°, ë‘ SQLë¬¸ì´ ë³„ë„ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìºì‹œì— ì €ì¥ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">UPDATE</span> QnALikeDislike\n<span class=\"token keyword\">SET</span> <span class=\"token keyword\">status</span> <span class=\"token operator\">=</span> <span class=\"token string\">'G'</span>\n<span class=\"token keyword\">WHERE</span> id<span class=\"token punctuation\">.</span>member <span class=\"token operator\">=</span> :member <span class=\"token operator\">AND</span> id<span class=\"token punctuation\">.</span>qna <span class=\"token operator\">=</span> :qna <span class=\"token operator\">AND</span> isDeleted <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n\n<span class=\"token keyword\">UPDATE</span> QnALikeDislike\n<span class=\"token keyword\">SET</span> <span class=\"token keyword\">status</span> <span class=\"token operator\">=</span> <span class=\"token string\">'B'</span>\n<span class=\"token keyword\">WHERE</span> id<span class=\"token punctuation\">.</span>member <span class=\"token operator\">=</span> :member <span class=\"token operator\">AND</span> id<span class=\"token punctuation\">.</span>qna <span class=\"token operator\">=</span> :qna <span class=\"token operator\">AND</span> isDeleted <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span></code></pre></div>\n</li>\n<li>\n<p>í•˜ì§€ë§Œ ë°”ì¸ë”© ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²½ìš°, <strong>ìºì‹œì—ëŠ” ë‹¨ í•˜ë‚˜ì˜ ì¿¼ë¦¬ë¬¸ë§Œ ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ìºì‹œ ê³µê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.</strong></p>\n</li>\n<li>\n<p>ì¡°íšŒ ì‹œ ìºì‹œì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì €ì¥ë  ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">UPDATE</span> QnALikeDislike \n<span class=\"token keyword\">SET</span> <span class=\"token keyword\">status</span> <span class=\"token operator\">=</span> :<span class=\"token keyword\">status</span><span class=\"token punctuation\">,</span> isDeleted <span class=\"token operator\">=</span> :isDeleted\n<span class=\"token keyword\">WHERE</span> id<span class=\"token punctuation\">.</span>member <span class=\"token operator\">=</span> :member <span class=\"token operator\">AND</span> id<span class=\"token punctuation\">.</span>qna <span class=\"token operator\">=</span> :qna</code></pre></div>\n</li>\n</ul>\n<p>ë°”ì¸ë”© ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ SQL Injectionë„ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤ê³  í•˜ëŠ”ë°, JPAëŠ” ë‚´ë¶€ì ìœ¼ë¡œ PreparedStatementë¥¼ ì‚¬ìš©í•œë‹¤ê³  ì•Œê³  ìˆì–´ì„œ ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” ì¶”ê°€ë¡œ ë” ì•Œì•„ë´ì•¼ í•  ê²ƒ ê°™ë‹¤.</p>\n<h2 id=\"ìŠ¤í¬ë©-ë¡œì§-ê°œì„ \" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%81%AC%EB%9E%A9-%EB%A1%9C%EC%A7%81-%EA%B0%9C%EC%84%A0\" aria-label=\"ìŠ¤í¬ë© ë¡œì§ ê°œì„  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìŠ¤í¬ë© ë¡œì§ ê°œì„ </h2>\n<p>Q&#x26;A ìŠ¤í¬ë©ë„ ë¹„ìŠ·í•œ ë¡œì§ìœ¼ë¡œ ì‘ì„±í•˜ë ¤ê³  í–ˆì—ˆë‹¤.</p>\n<p>ê¸°ì¡´ì— ë‚´ê°€ ìƒê°í–ˆë˜ ë°©ì‹ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<ol>\n<li><code class=\"language-text\">findById</code>ë¡œ ìŠ¤í¬ë© ë°ì´í„°ë¥¼ ì°¾ëŠ”ë‹¤.</li>\n<li>ì´ë¯¸ ìˆëŠ” ê²½ìš° ìŠ¤í¬ë© ì·¨ì†Œë¡œ ì¸ì‹í•˜ê³  <code class=\"language-text\">deleteById</code>ë¥¼ ìˆ˜í–‰í•œë‹¤.</li>\n<li>ì´ë¯¸ ë°ì´í„°ê°€ ìˆëŠ”ë° deletedëœ ê²½ìš° ë‹¤ì‹œ ë³µêµ¬ì‹œí‚¨ë‹¤.</li>\n<li>ì—†ìœ¼ë©´ ìƒˆë¡œ ë§Œë“¤ì–´ì£¼ì–´ ìŠ¤í¬ë©ì„ ì„±ê³µì‹œí‚¨ë‹¤.</li>\n</ol>\n<p>ê·¸ëŸ¬ë‚˜ ìœ„ì™€ ê°™ì€ ë¡œì§ìœ¼ë¡œ ì‘ì„±í•˜ë‹ˆ if ë¶„ê¸°ê°€ ìƒê¸°ê¸°ë„ í•˜ê³ , ë³µì¡í•´ì§€ê¸°ë„ í•´ì„œ ì–´ë–»ê²Œ ê°œì„ í• ì§€ ê³ ë¯¼í•˜ë‹¤ê°€, ì˜ˆì „ì— íšŒì‚¬ì—ì„œ ê¸°ì¡´ ë°±ì—”ë“œ ì„œë²„ ë¦¬íŒ©í† ë§ í”„ë¡œì íŠ¸ë¥¼ í•  ë•Œ ë°°ì› ë˜ <code class=\"language-text\">ON DUPLICATE KEY UPDATE</code>ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">createQnAScrap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> qnaId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Long</span> memberId <span class=\"token operator\">=</span> <span class=\"token function\">getMemberId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    qnaScrapRepository<span class=\"token punctuation\">.</span><span class=\"token function\">createOrUpdateQnAScrap</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> qnaId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    nativeQuery <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"INSERT INTO qna_scrap (member_id, qna_id) \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"VALUES (:memberId, :qnaId) \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"ON DUPLICATE KEY UPDATE is_deleted = IF(is_deleted, 0, 1)\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">createOrUpdateQnAScrap</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberId\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qnaId\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> qnaId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">ON DUPLICATE KEY UPDATE</code>ëŠ” ì¤‘ë³µëœ keyê°’ì´ ìˆëŠ” ê²½ìš° ì§€ì •ëœ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ê³ , ì•„ë‹ˆë¼ë©´ <code class=\"language-text\">INSERT</code>í•˜ëŠ” ì¿¼ë¦¬ì´ë‹¤.</p>\n<p><a href=\"https://github.com/techeer-TIL-group/yu-heejin/blob/main/Database/on-duplicate-key-update.md\"></a></p>\n<p>ìœ„ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ í† ê¸€ ë°©ì‹ì„ ë” ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆë‹¤. ğŸ˜†</p>","frontmatter":{"date":"February 01, 2024","title":"Q&A ì¶”ì²œ/ë¹„ì¶”ì²œ, Q&A ìŠ¤í¬ë© - ë°”ì¸ë”© ë³€ìˆ˜ ì‚¬ìš©, ì¿¼ë¦¬ë¬¸ ë° ë¡œì§ ê°œì„ ","categories":"Backend","author":"ìœ í¬ì§„","emoji":"â˜ï¸"},"fields":{"slug":"/b-improve-query/"}},"site":{"siteMetadata":{"siteUrl":"https://flow-team-project.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/b-branch-convention/","nextSlug":"/b-commit-convention/","prevSlug":"/b-improve-query/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}