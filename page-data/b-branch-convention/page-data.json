{"componentChunkName":"component---src-templates-blog-template-js","path":"/b-branch-convention/","result":{"data":{"cur":{"id":"c708287e-906e-5b9e-8d29-bb405931656b","html":"<h2 id=\"branch-type\" style=\"position:relative;\"><a href=\"#branch-type\" aria-label=\"branch type permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Branch type</h2>\n<blockquote>\n<p>ë¸Œëœì¹˜ ì „ëµì€ ê°„ëµí•œ Git flow ì „ëµì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n</blockquote>\n<ul>\n<li>main (master) : ê°œë°œ ì„œë²„ ë°°í¬ë¥¼ ìœ„í•œ ë¸Œëœì¹˜</li>\n<li>#{issue number}/name : ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•œ ë¸Œëœì¹˜</li>\n</ul>\n<h2 id=\"branch-naming\" style=\"position:relative;\"><a href=\"#branch-naming\" aria-label=\"branch naming permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Branch Naming</h2>\n<aside>\nğŸ’¡ #{issue number}/{name}\n</aside>\n<ul>\n<li>ë¸Œëœì¹˜ëª…ì€ ë°˜ë“œì‹œ <strong>ì†Œë¬¸ìë¡œë§Œ ì‘ì„±</strong>í•´ì£¼ì‹œê³ , <strong>ì¼€ë°¥ ì¼€ì´ìŠ¤ë¡œ ì‘ì„±</strong>í•©ë‹ˆë‹¤.</li>\n<li>nameì€ ìŠ¤í”„ë¦°íŠ¸ë¥¼ ì˜ì–´ë¡œ ìš”ì•½í•˜ì—¬ ì‘ì„±í•´ì£¼ì„¸ìš”.</li>\n</ul>","excerpt":"Branch type ë¸Œëœì¹˜ ì „ëµì€ ê°„ëµí•œ Git flow ì „ëµì„ ì‚¬ìš©í•©ë‹ˆë‹¤. main (master) : ê°œë°œ ì„œë²„ ë°°í¬ë¥¼ ìœ„í•œ ë¸Œëœì¹˜ #{issue number}/name : ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•œ ë¸Œëœì¹˜ Branch Naming ë¸Œëœì¹˜ëª…ì€ ë°˜ë“œì‹œ ì†Œë¬¸ìë¡œë§Œ ì‘ì„±í•´ì£¼ì‹œê³ , ì¼€ë°¥ ì¼€ì´ìŠ¤ë¡œ ì‘ì„±í•©ë‹ˆë‹¤. nameì€ ìŠ¤í”„ë¦°íŠ¸ë¥¼ ì˜ì–´ë¡œ ìš”ì•½í•˜ì—¬ ì‘ì„±í•´ì£¼ì„¸ìš”.","frontmatter":{"date":"December 26, 2023","title":"Backend Branch Convention","categories":"Backend Convention","author":"ìœ í¬ì§„","emoji":"ğŸ“"},"fields":{"slug":"/b-branch-convention/"}},"next":{"id":"542744eb-44d1-5e84-bf70-c085befdefe0","html":"<h2 id=\"version-guide\" style=\"position:relative;\"><a href=\"#version-guide\" aria-label=\"version guide permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Version Guide</h2>\n<ul>\n<li>java version: v11</li>\n</ul>\n<h2 id=\"code-style-guide\" style=\"position:relative;\"><a href=\"#code-style-guide\" aria-label=\"code style guide permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Code Style Guide</h2>\n<ul>\n<li>ì½”ë“œì˜ <code class=\"language-text\">width</code>ëŠ” <strong>ìµœëŒ€ 120ìë¥¼ ë„˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.</strong></li>\n<li><strong>í•˜ë‚˜ì˜ ë©”ì†Œë“œëŠ” í•˜ë‚˜ì˜ ì—­í• ë§Œ ìˆ˜í–‰</strong>í•˜ë„ë¡ ì‘ì„±í•©ë‹ˆë‹¤.</li>\n<li>ë©”ì†Œë“œì˜ <strong>ë§¤ê°œë³€ìˆ˜ê°€ 4ê°œ ì´ìƒì¼ ì‹œ ë³„ë„ì˜ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ì „ë‹¬</strong>í•©ë‹ˆë‹¤.</li>\n<li>ì½”ë“œ ì‘ì„± ì‹œ ìŠ¤íƒ€ì¼ì€ <strong>ì¹´ë©œ ì¼€ì´ìŠ¤ë¡œ ì‘ì„±</strong>í•´ì£¼ì„¸ìš”.</li>\n<li>ë³€ìˆ˜ëŠ” ëª…ì‚¬í˜•ìœ¼ë¡œ, ë©”ì†Œë“œ(í•¨ìˆ˜)ëŠ” ë™ì‚¬í˜•ìœ¼ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.</li>\n<li>ìì£¼ ì‚¬ìš©í•˜ëŠ” í˜¹ì€ ë¶ˆë³€í•˜ì§€ ì•ŠëŠ” ê°’ì€ enumì´ë‚˜ finalë¡œ ì„ ì–¸í•´ì£¼ì„¸ìš”.</li>\n<li><strong>ì ‘ê·¼ ì œì–´, ì¸í„°í˜ì´ìŠ¤/êµ¬í˜„ë¶€ ë¶„ë¦¬ ë“±ì˜ ìº¡ìŠí™”</strong>ë¥¼ ìµœëŒ€í•œ ì§€í‚¤ë©° ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.</li>\n<li>Backendì˜ ê²½ìš° <strong>í´ë”ëª…(íŒ¨í‚¤ì§€)ì€ ì†Œë¬¸ìë¡œ, íŒŒì¼ëª…ì€ ì¹´ë©œ ì¼€ì´ìŠ¤ë¡œ ì‘ì„±</strong>í•´ì£¼ì„¸ìš”.</li>\n<li>Backendì˜ ê²½ìš° ë¬¸ìì—´ ì‘ì„± ì‹œ <code class=\"language-text\">â€œâ€</code> ì‚¬ìš©í•´ì£¼ì„¸ìš”.</li>\n<li>CRUD methodì˜ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì€ ë„¤ì´ë°ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n<table>\n<thead>\n<tr>\n<th>ë™ì‘</th>\n<th>Repository</th>\n<th>Service</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Create</td>\n<td>insertXXX</td>\n<td>createXXX</td>\n</tr>\n<tr>\n<td>Read</td>\n<td>findXX(ByXXAnd/OrYY)</td>\n<td>getXX(ByXXAnd/OrYY)</td>\n</tr>\n<tr>\n<td>Update</td>\n<td>updateXXX(ByXXAnd/OrYY)</td>\n<td>updateXXX(ByXXAnd/OrYY)</td>\n</tr>\n<tr>\n<td>Delete</td>\n<td>deleteXXX(ByXXAnd/OrYY)</td>\n<td>deleteXXX(ByXXAnd/OrYY)</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>ì¼ë°˜ì ìœ¼ë¡œ DBì—ì„œ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•  ë• findXX í˜•íƒœë¥¼ ì‚¬ìš©í•˜ë©°, ì™¸ë¶€ APIë¥¼ ì‚¬ìš©í•  ë• getXXX í˜•íƒœë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"restful-api-guide\" style=\"position:relative;\"><a href=\"#restful-api-guide\" aria-label=\"restful api guide permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RESTful API Guide</h2>\n<blockquote>\n<p>ê¸°ë³¸ì ìœ¼ë¡œ <strong>urlì€ ëª…ì‚¬í˜•</strong>ìœ¼ë¡œ ì‘ì„±í•˜ë©°, <strong>ë™ì‘ì€ Method</strong>ë¡œ ì •ì˜í•©ë‹ˆë‹¤.</p>\n</blockquote>\n<ul>\n<li>\n<p><code class=\"language-text\">controller</code>ì—ì„œ ì‘ë‹µ ì‹œ ì •í™•í•œ <code class=\"language-text\">status code</code>ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>200</td>\n<td>OK: ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>201</td>\n<td>CREATED: ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìœ¼ë©°, ê·¸ ê²°ê³¼ ìƒˆë¡œìš´ ë¦¬ì†ŒìŠ¤ê°€ ìƒì„±ë˜ì—ˆì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>400</td>\n<td>BAD REQUEST: Frontendì—ì„œ ì˜ëª»ëœ ìš”ì²­ í˜¹ì€ ìš”êµ¬ë˜ëŠ” dataê°€ ë¹ ì¡Œì„ ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>401</td>\n<td>UNAUTHORIZED: ì‚¬ìš©ìê°€ ì¸ì¦ë˜ì§€ ì•Šì•„ ìš”ì²­ ê¶Œí•œì´ ì—†ëŠ” ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>403</td>\n<td>FORBIDDEN: ì‚¬ìš©ìê°€ ì¸ì¦ë˜ì—ˆìœ¼ë‚˜ í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ê¶Œí•œì´ ì—†ì„ ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>404</td>\n<td>NOT FOUND: í•´ë‹¹í•˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì„ ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>409</td>\n<td>CONFLICT: ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ì™€ ì¶©ëŒí•˜ëŠ” ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤. (ex. ì¤‘ë³µ ì´ë©”ì¼)</td>\n</tr>\n<tr>\n<td>500</td>\n<td>INTERNAL SERVER ERROR: ê¸°íƒ€ ì•Œ ìˆ˜ ì—†ëŠ” ì„œë²„ ì˜¤ë¥˜ ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p><code class=\"language-text\">API</code> ì •ì˜ ì‹œ ì˜¬ë°”ë¥¸ <code class=\"language-text\">Method</code>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<table>\n<thead>\n<tr>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>GET</td>\n<td>ë¦¬ì†ŒìŠ¤ ì¡°íšŒ ìš”ì²­ ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>POST</td>\n<td>ìƒˆë¡œìš´ ë¦¬ì†ŒìŠ¤ ìƒì„± ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>PUT</td>\n<td>ë¦¬ì†ŒìŠ¤ ì „ì²´ ë‚´ìš©ì„ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>PATCH</td>\n<td>ë¦¬ì†ŒìŠ¤ ë¶€ë¶„ ë‚´ìš©ì„ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n<tr>\n<td>DELETE</td>\n<td>ë¦¬ì†ŒìŠ¤ ì‚­ì œ ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p>ì–´ë–¤ <strong>ë¦¬ì†ŒìŠ¤ë¥¼ ì‹ë³„</strong>í•˜ê³  ì‹¶ìœ¼ë©´ <code class=\"language-text\">Path Variable</code>, <strong>ì •ë ¬ì´ë‚˜ í•„í„°ë§</strong> ì‹œ <code class=\"language-text\">Query Parameter</code>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/users  # ì‚¬ìš©ì ëª©ë¡ì„ ê°€ì ¸ì˜¨ë‹¤.\n/users?occupation=programer  # í”„ë¡œê·¸ë˜ë¨¸ì¸ ì‚¬ìš©ì ëª©ë¡ì„ ê°€ì ¸ì˜¨ë‹¤.\n/users/123  # ì•„ì´ë””ê°€ 123ì¸ ì‚¬ìš©ìë¥¼ ê°€ì ¸ì˜¨ë‹¤.</code></pre></div>\n</li>\n<li>\n<p>urlì—ëŠ” ëŒ€ë¬¸ì ëŒ€ì‹  <strong>ì†Œë¬¸ìë¥¼ ì‚¬ìš©</strong>í•˜ë©°, ì–¸ë”ë°” ëŒ€ì‹  í•˜ì´í”ˆ(-)ì„ ì‚¬ìš©í•˜ì—¬ <strong>ì¼€ë°¥ ì¼€ì´ìŠ¤ë¡œ ì‘ì„±</strong>í•©ë‹ˆë‹¤.</p>\n</li>\n<li>\n<p>íŒŒì¼ì˜ í™•ì¥ìëŠ” urlì— í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>\n</li>\n<li>\n<p><strong>API ìš”ì²­ ì‹œ ê¶Œí•œ ì„¤ì •ì„ ëª…í™•í•˜ê²Œ ì„¤ì •</strong>í•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤.</p>\n</li>\n<li>\n<p>PK idê°’ì´ ì£¼ì†Œì— ë“¤ì–´ìˆëŠ” ê²½ìš° ì•”í˜¸í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>\n<ul>\n<li><a href=\"https://hogwart-scholars.tistory.com/entry/Spring-Boot-Auto-Increment-PK-Id%EB%A5%BC-%EB%85%B8%EC%B6%9C%ED%95%98%EC%A7%80-%EC%95%8A%EC%9C%BC%EB%A9%B4%EC%84%9C-API%EC%97%90-%ED%99%9C%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\">https://hogwart-scholars.tistory.com/entry/Spring-Boot-Auto-Increment-PK-Idë¥¼-ë…¸ì¶œí•˜ì§€-ì•Šìœ¼ë©´ì„œ-APIì—-í™œìš©í•˜ëŠ”-ë°©ë²•</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"sql-style-guide\" style=\"position:relative;\"><a href=\"#sql-style-guide\" aria-label=\"sql style guide permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQL Style Guide</h2>\n<ul>\n<li>\n<p>ì¿¼ë¦¬ë¬¸ì€ ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- í‚¤ì›Œë“œ, ë¬¸ì¥ ë“±ì˜ ê²½ìš° í•­ìƒ ë‹¤ìŒ ìƒˆë¡œìš´ ì¤„ì—ì„œ ì‹œì‘í•©ë‹ˆë‹¤.</span>\n<span class=\"token keyword\">SELECT</span> col_name \n<span class=\"token keyword\">FROM</span> table_name\n<span class=\"token keyword\">WHERE</span> colum_name<span class=\"token operator\">=</span>${condition}\n    <span class=\"token operator\">AND</span> id<span class=\"token operator\">=</span>${id}\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> column_name\n<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- ì˜ˆì‹œ</span>\n<span class=\"token keyword\">SELECT</span> BOOK<span class=\"token punctuation\">.</span>book_id\n    <span class=\"token punctuation\">,</span> AUTHOR<span class=\"token punctuation\">.</span>author_name\n    <span class=\"token punctuation\">,</span> DATE_FORMAT<span class=\"token punctuation\">(</span>BOOK<span class=\"token punctuation\">.</span>published_date<span class=\"token punctuation\">,</span> <span class=\"token string\">'%Y-%m-%d'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> published_date\n<span class=\"token keyword\">FROM</span> book BOOK\n    <span class=\"token keyword\">JOIN</span> author AUTHOR\n    <span class=\"token keyword\">ON</span> BOOK<span class=\"token punctuation\">.</span>author_id <span class=\"token operator\">=</span> AUTHOR<span class=\"token punctuation\">.</span>author_id\n<span class=\"token keyword\">WHERE</span>\n    BOOK<span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> <span class=\"token string\">'ê²½ì œ'</span>\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span>\n    BOOK<span class=\"token punctuation\">.</span>published_date\n<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>ì˜ˆì•½ì–´, DB aliasì˜ ê²½ìš° ëŒ€ë¬¸ìë¡œ ì‘ì„±í•©ë‹ˆë‹¤.</li>\n<li>aliasëŠ” ìµœëŒ€í•œ ìì„¸í•˜ê²Œ ì§€ì–´ì£¼ì„¸ìš”.</li>\n</ul>\n</li>\n<li>\n<p>DBì˜ ê²½ìš° <strong>ëŒ€ì†Œë¬¸ì êµ¬ë¶„ì´ ì—†ê¸° ë•Œë¬¸ì— ìŠ¤ë„¤ì´í¬ ì¼€ì´ìŠ¤ë¥¼ ì‚¬ìš©</strong>í•˜ëŠ” ê²ƒì´ ê¶Œê³ ì‚¬í•­ì…ë‹ˆë‹¤.</p>\n</li>\n<li>\n<p>ê¸°ë³¸í‚¤ í•„ë“œì˜ ê²½ìš° <code class=\"language-text\">id</code>, ì™¸ë˜í‚¤ í•„ë“œì˜ ì´ë¦„ì˜ ê²½ìš° <code class=\"language-text\">{ì°¸ì¡° í…Œì´ë¸”ëª…}_id</code>ë¡œ ì´ë¦„ì„ í†µì¼í•©ë‹ˆë‹¤.</p>\n<ul>\n<li>ë‹¨, Application ë ˆì´ì–´ì—ì„œ ê¸°ë³¸í‚¤ í•„ë“œë¥¼ ì‚¬ìš©í•  ë• <code class=\"language-text\">{ì°¸ì¡° í…Œì´ë¸”ëª…}Id</code>ë¡œ ì´ë¦„ì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.</li>\n<li><strong>Application ë ˆì´ì–´ì—ì„œëŠ” ì¹´ë©œ ì¼€ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨ì„ ì£¼ì˜</strong>í•˜ì„¸ìš”.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ì°¸ê³ -ì‚¬ì´íŠ¸\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%82%AC%EC%9D%B4%ED%8A%B8\" aria-label=\"ì°¸ê³  ì‚¬ì´íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³  ì‚¬ì´íŠ¸</h2>\n<h3 id=\"ìš°ì•„í•œ-í…Œí¬ì½”ìŠ¤-ë¬¸ì„œ-ì €ì¥ì†Œ\" style=\"position:relative;\"><a href=\"#%EC%9A%B0%EC%95%84%ED%95%9C-%ED%85%8C%ED%81%AC%EC%BD%94%EC%8A%A4-%EB%AC%B8%EC%84%9C-%EC%A0%80%EC%9E%A5%EC%86%8C\" aria-label=\"ìš°ì•„í•œ í…Œí¬ì½”ìŠ¤ ë¬¸ì„œ ì €ì¥ì†Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìš°ì•„í•œ í…Œí¬ì½”ìŠ¤ ë¬¸ì„œ ì €ì¥ì†Œ</h3>\n<p><a href=\"https://github.com/woowacourse/woowacourse-docs\">https://github.com/woowacourse/woowacourse-docs</a></p>\n<h3 id=\"backend\" style=\"position:relative;\"><a href=\"#backend\" aria-label=\"backend permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Backend</h3>\n<ul>\n<li><a href=\"https://naver.github.io/hackday-conventions-java/\">ìº í¼ìŠ¤ í•µë°ì´ Java ì½”ë”© ì»¨ë²¤ì…˜</a></li>\n<li><a href=\"https://tecoble.techcourse.co.kr/post/2020-04-24-variable_naming/\">ì¢‹ì€ ì½”ë“œë¥¼ ìœ„í•œ ìë°” ë³€ìˆ˜ëª… ë„¤ì´ë°</a></li>\n<li><a href=\"https://tecoble.techcourse.co.kr/post/2020-04-26-Method-Naming/\">ì¢‹ì€ ì½”ë“œë¥¼ ìœ„í•œ ìë°” ë©”ì†Œë“œ ë„¤ì´ë°</a></li>\n<li><a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests\">ì¢‹ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±(Mockito)</a></li>\n</ul>\n<h3 id=\"db\" style=\"position:relative;\"><a href=\"#db\" aria-label=\"db permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DB</h3>\n<ul>\n<li><a href=\"https://killu.tistory.com/52\">MySQL ë„¤ì´ë° ê·œì¹™</a></li>\n<li><a href=\"https://yozm.wishket.com/magazine/detail/1519/\">SQL ê°€ë…ì„±ì„ ë†’ì´ëŠ” ë‹¤ì„¯ ê°€ì§€ ì‚¬ì†Œí•œ ìŠµê´€</a></li>\n<li><a href=\"https://brownbears.tistory.com/595\">SQL ìŠ¤íƒ€ì¼ ê°€ì´ë“œ</a></li>\n</ul>","frontmatter":{"date":"December 26, 2023","title":"Backend Code Convention","categories":"Backend Convention","author":"ìœ í¬ì§„","emoji":"ğŸ“"},"fields":{"slug":"/b-code-convention/"}},"prev":{"id":"8b868113-03c0-5a76-b495-aadd07c24a27","html":"<h2 id=\"ì¶”ì²œë¹„ì¶”ì²œ-ë¡œì§-ê°œì„ \" style=\"position:relative;\"><a href=\"#%EC%B6%94%EC%B2%9C%EB%B9%84%EC%B6%94%EC%B2%9C-%EB%A1%9C%EC%A7%81-%EA%B0%9C%EC%84%A0\" aria-label=\"ì¶”ì²œë¹„ì¶”ì²œ ë¡œì§ ê°œì„  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¶”ì²œ/ë¹„ì¶”ì²œ ë¡œì§ ê°œì„ </h2>\n<p>Q&#x26;A ì¶”ì²œ/ë¹„ì¶”ì²œ ë¡œì§ì„ ì´ì „ì—ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// Q&amp;A ì¶”ì²œ ë¡œì§ ì½”ë“œ</span>\n<span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">createLike</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> qnaId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMember</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token class-name\">QnA</span> qna <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkQnAValidate</span><span class=\"token punctuation\">(</span>qnaId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token class-name\">QnALikeDislikeId</span> id <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QnALikeDislikeId</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\tqnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n\t    <span class=\"token punctuation\">.</span><span class=\"token function\">ifPresentOrElse</span><span class=\"token punctuation\">(</span>\n\t        result <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n\t            <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">getStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t                <span class=\"token keyword\">case</span> <span class=\"token class-name\">G</span><span class=\"token operator\">:</span>\n\t                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateDeleteStatus</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t                    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t\n\t                <span class=\"token keyword\">case</span> <span class=\"token class-name\">B</span><span class=\"token operator\">:</span>\n\t                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">getIsDeleted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t                        qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">recoverLikeDislike</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t                    <span class=\"token punctuation\">}</span>\n\t                    qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">updateQnALikeStatusToGood</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t                    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t            <span class=\"token punctuation\">}</span>\n\t        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n\t            <span class=\"token class-name\">QnALikeDislike</span> likeDislike <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QnALikeDislike</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">LikeStatus</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"G\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t            qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>likeDislike<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t        <span class=\"token punctuation\">}</span>\n\t    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateLikesAndDislikes</span><span class=\"token punctuation\">(</span>qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">updateDeleteStatus</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QnALikeDislike</span> likeDislike<span class=\"token punctuation\">,</span> <span class=\"token class-name\">QnALikeDislikeId</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>likeDislike<span class=\"token punctuation\">.</span><span class=\"token function\">getIsDeleted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">deleteById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">.</span><span class=\"token function\">getMember</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">.</span><span class=\"token function\">getQna</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">recoverLikeDislike</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">.</span><span class=\"token function\">getMember</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">.</span><span class=\"token function\">getQna</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// repository</span>\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n        value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"SET status = 'G' \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna AND isDeleted = false\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToGood</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"SET status = 'B' \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna AND isDeleted = false\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToBad</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"SET isDeleted = true \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">deleteById</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê¸°ì¡´ ì¶”ì²œ/ë¹„ì¶”ì²œ ë¡œì§ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ol>\n<li>\n<p>qnaId, memberIdë¥¼ ì´ìš©í•´ ì¶”ì²œ/ë¹„ì¶”ì²œ ë°ì´í„°ë¥¼ findByIdë¡œ ë°›ì•„ì˜¨ë‹¤.</p>\n</li>\n<li>\n<p>ë§Œì•½ ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš°, ì•„ë˜ì™€ ê°™ì´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•œë‹¤. (ì¶”ì²œ ë¡œì§ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•œë‹¤.)</p>\n<ol>\n<li><code class=\"language-text\">G(ì¶”ì²œ)</code>, <code class=\"language-text\">B(ë¹„ì¶”ì²œ)</code> ì—¬ë¶€ë¥¼ ë°›ì•„ì˜¨ë‹¤.</li>\n<li>ë§Œì•½ <strong>ìƒíƒœê°€ ì¶”ì²œ</strong>ì´ë¼ë©´, ì‚­ì œê°€ ì•ˆ ëœ ê²½ìš° ì¶”ì²œ ì·¨ì†Œë¡œ ì¸ì‹í•˜ê³  í•´ë‹¹ ë°ì´í„°ë¥¼ ì‚­ì œí•œë‹¤.</li>\n<li><strong>ìƒíƒœê°€ ì¶”ì²œ</strong>ì¸ë° ì‚­ì œëœ ê²½ìš° ë‹¤ì‹œ ë³µêµ¬ ì‹œí‚¨ë‹¤. (ë‹¤ì‹œ ì¶”ì²œ)</li>\n<li><strong>ìƒíƒœê°€ ë¹„ì¶”ì²œ</strong>ì¸ ê²½ìš°, ë§Œì•½ í•´ë‹¹ ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìœ¼ë©´ ë³µêµ¬ í›„ ì¶”ì²œ ìƒíƒœë¡œ ë³€ê²½í•œë‹¤. (B â†’ G)</li>\n</ol>\n</li>\n<li>\n<p>ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° ìƒˆë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.</p>\n</li>\n</ol>\n<p>í•˜ì§€ë§Œ ìƒê°í•´ë³´ë‹ˆ,, ë°ì´í„°ë¥¼ êµ‰ì¥íˆ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. ğŸ¥²</p>\n<p>ì¼ë°˜ì ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ë‘ë²ˆ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ í•œ ë²ˆì— ìš”ì²­í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì¸ ê²ƒìœ¼ë¡œ ì•Œê³  ìˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ê³ ë¯¼ ëì— ì¿¼ë¦¬ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•´ ë¡œì§ì„ ê°œì„ í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">createQnALike</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> qnaId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMember</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">QnA</span> qna <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getQnA</span><span class=\"token punctuation\">(</span>qnaId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">QnALikeDislikeId</span> id <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QnALikeDislikeId</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">ifPresentOrElse</span><span class=\"token punctuation\">(</span>\n            result <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">getStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">case</span> <span class=\"token class-name\">G</span><span class=\"token operator\">:</span>\n                        qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">updateDeleteStatus</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\n                    <span class=\"token keyword\">case</span> <span class=\"token class-name\">B</span><span class=\"token operator\">:</span>\n                        qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">updateQnALikeStatusToGoodOrBad</span><span class=\"token punctuation\">(</span>\n                            member<span class=\"token punctuation\">,</span>\n                            qna<span class=\"token punctuation\">,</span>\n                            <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token class-name\">LikeStatus<span class=\"token punctuation\">.</span>G</span>\n                        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">QnALikeDislike</span> likeDislike <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QnALikeDislike</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">LikeStatus</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"G\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                qnaLikeDislikeRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>likeDislike<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">updateLikesAndDislikes</span><span class=\"token punctuation\">(</span>qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// repository</span>\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n        value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"SET status = :status, isDeleted = :isDeleted \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToGoodOrBad</span><span class=\"token punctuation\">(</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"isDeleted\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Boolean</span> isDeleted<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LikeStatus</span> status\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"SELECT COUNT(q) \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"FROM QnALikeDislike q \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"WHERE q.id.qna = :qna AND q.status = :status AND q.isDeleted = :isDeleted\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">int</span> <span class=\"token function\">countQnALikeOrDislikeByQnAId</span><span class=\"token punctuation\">(</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LikeStatus</span> status<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"isDeleted\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Boolean</span> isDeleted\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"SET isDeleted = IF(isDeleted, false, true) \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateDeleteStatus</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê°œì„ í•œ ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ol>\n<li>\n<p><code class=\"language-text\">G(ì¶”ì²œ)</code>, <code class=\"language-text\">B(ë¹„ì¶”ì²œ)</code> ì—¬ë¶€ë¥¼ ë°›ì•„ì˜¨ë‹¤.</p>\n</li>\n<li>\n<p>ë§Œì•½ <strong>ìƒíƒœê°€ ì¶”ì²œ</strong>ì´ë¼ë©´, IF í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ì‚­ì œëœ ê²½ìš° ì‚­ì œ ì·¨ì†Œ, ì‚­ì œë˜ì§€ ì•Šì€ ê²½ìš° ì‚­ì œí•˜ë„ë¡ ì¿¼ë¦¬ë¥¼ ë³€ê²½í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SET</span> isDeleted <span class=\"token operator\">=</span> <span class=\"token keyword\">IF</span><span class=\"token punctuation\">(</span>isDeleted<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><strong>ìƒíƒœê°€ ë¹„ì¶”ì²œ</strong>ì¸ ê²½ìš°, ì‚­ì œ ì—¬ë¶€ë‘ ìƒê´€ì—†ì´ <code class=\"language-text\">isDeleted = false</code>ë¡œ ë³€ê²½í•œ í›„ ìƒíƒœë¥¼ Gë¡œ ë³€ê²½í•œë‹¤.</p>\n</li>\n</ol>\n<p>ê¸°ì¡´ ë¡œì§ê³¼ ë‹¬ë¦¬ ì¿¼ë¦¬ë¥¼ í•œ ë²ˆë§Œ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— ë¡œì§ ë° ì†ë„ë¥¼ ê°œì„ í•  ìˆ˜ ìˆì—ˆë‹¤.</p>\n<p>ì¶”ê°€ì ìœ¼ë¡œ ë°”ì¸ë”© ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë„ë¡ JPQL ì¿¼ë¦¬ë¥¼ ìˆ˜ì •í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// ê¸°ì¡´</span>\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n        value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"SET status = 'G' \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna AND isDeleted = false\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToGood</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"SET status = 'B' \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna AND isDeleted = false\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToBad</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ê°œì„ </span>\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n        value <span class=\"token operator\">=</span> <span class=\"token string\">\"UPDATE QnALikeDislike \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"SET status = :status, isDeleted = :isDeleted \"</span> <span class=\"token operator\">+</span>\n                <span class=\"token string\">\"WHERE id.member = :member AND id.qna = :qna\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">updateQnALikeStatusToGoodOrBad</span><span class=\"token punctuation\">(</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qna\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">QnA</span> qna<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"isDeleted\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Boolean</span> isDeleted<span class=\"token punctuation\">,</span>\n    <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LikeStatus</span> status\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë°”ì¸ë”© ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì¥ì ì´ ìˆë‹¤. (from ì¹œì ˆí•œ SQL íŠœë‹)</p>\n<p><a href=\"https://github.com/yu-heejin/kind-SQL-tuning/blob/main/1%EC%9E%A5/1.2_SQL_%EA%B3%B5%EC%9C%A0_%EB%B0%8F_%EC%9E%AC%EC%82%AC%EC%9A%A9.md\"></a></p>\n<ul>\n<li>\n<p>SQLì˜ ê²½ìš°, ìºì‹œì— ì €ì¥ë  ë•Œ ë³„ë„ì˜ ì´ë¦„ì´ ë”°ë¡œ ì—†ê³ , SQLë¬¸ ìì²´ê°€ ì´ë¦„ì´ ëœë‹¤.</p>\n</li>\n<li>\n<p>ë”°ë¼ì„œ ê¸°ì¡´ SQLì˜ ê²½ìš°, ë‘ SQLë¬¸ì´ ë³„ë„ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìºì‹œì— ì €ì¥ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">UPDATE</span> QnALikeDislike\n<span class=\"token keyword\">SET</span> <span class=\"token keyword\">status</span> <span class=\"token operator\">=</span> <span class=\"token string\">'G'</span>\n<span class=\"token keyword\">WHERE</span> id<span class=\"token punctuation\">.</span>member <span class=\"token operator\">=</span> :member <span class=\"token operator\">AND</span> id<span class=\"token punctuation\">.</span>qna <span class=\"token operator\">=</span> :qna <span class=\"token operator\">AND</span> isDeleted <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n\n<span class=\"token keyword\">UPDATE</span> QnALikeDislike\n<span class=\"token keyword\">SET</span> <span class=\"token keyword\">status</span> <span class=\"token operator\">=</span> <span class=\"token string\">'B'</span>\n<span class=\"token keyword\">WHERE</span> id<span class=\"token punctuation\">.</span>member <span class=\"token operator\">=</span> :member <span class=\"token operator\">AND</span> id<span class=\"token punctuation\">.</span>qna <span class=\"token operator\">=</span> :qna <span class=\"token operator\">AND</span> isDeleted <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span></code></pre></div>\n</li>\n<li>\n<p>í•˜ì§€ë§Œ ë°”ì¸ë”© ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²½ìš°, <strong>ìºì‹œì—ëŠ” ë‹¨ í•˜ë‚˜ì˜ ì¿¼ë¦¬ë¬¸ë§Œ ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ìºì‹œ ê³µê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.</strong></p>\n</li>\n<li>\n<p>ì¡°íšŒ ì‹œ ìºì‹œì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì €ì¥ë  ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">UPDATE</span> QnALikeDislike \n<span class=\"token keyword\">SET</span> <span class=\"token keyword\">status</span> <span class=\"token operator\">=</span> :<span class=\"token keyword\">status</span><span class=\"token punctuation\">,</span> isDeleted <span class=\"token operator\">=</span> :isDeleted\n<span class=\"token keyword\">WHERE</span> id<span class=\"token punctuation\">.</span>member <span class=\"token operator\">=</span> :member <span class=\"token operator\">AND</span> id<span class=\"token punctuation\">.</span>qna <span class=\"token operator\">=</span> :qna</code></pre></div>\n</li>\n</ul>\n<p>ë°”ì¸ë”© ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ SQL Injectionë„ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤ê³  í•˜ëŠ”ë°, JPAëŠ” ë‚´ë¶€ì ìœ¼ë¡œ PreparedStatementë¥¼ ì‚¬ìš©í•œë‹¤ê³  ì•Œê³  ìˆì–´ì„œ ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” ì¶”ê°€ë¡œ ë” ì•Œì•„ë´ì•¼ í•  ê²ƒ ê°™ë‹¤.</p>\n<h2 id=\"ìŠ¤í¬ë©-ë¡œì§-ê°œì„ \" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%81%AC%EB%9E%A9-%EB%A1%9C%EC%A7%81-%EA%B0%9C%EC%84%A0\" aria-label=\"ìŠ¤í¬ë© ë¡œì§ ê°œì„  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìŠ¤í¬ë© ë¡œì§ ê°œì„ </h2>\n<p>Q&#x26;A ìŠ¤í¬ë©ë„ ë¹„ìŠ·í•œ ë¡œì§ìœ¼ë¡œ ì‘ì„±í•˜ë ¤ê³  í–ˆì—ˆë‹¤.</p>\n<p>ê¸°ì¡´ì— ë‚´ê°€ ìƒê°í–ˆë˜ ë°©ì‹ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<ol>\n<li><code class=\"language-text\">findById</code>ë¡œ ìŠ¤í¬ë© ë°ì´í„°ë¥¼ ì°¾ëŠ”ë‹¤.</li>\n<li>ì´ë¯¸ ìˆëŠ” ê²½ìš° ìŠ¤í¬ë© ì·¨ì†Œë¡œ ì¸ì‹í•˜ê³  <code class=\"language-text\">deleteById</code>ë¥¼ ìˆ˜í–‰í•œë‹¤.</li>\n<li>ì´ë¯¸ ë°ì´í„°ê°€ ìˆëŠ”ë° deletedëœ ê²½ìš° ë‹¤ì‹œ ë³µêµ¬ì‹œí‚¨ë‹¤.</li>\n<li>ì—†ìœ¼ë©´ ìƒˆë¡œ ë§Œë“¤ì–´ì£¼ì–´ ìŠ¤í¬ë©ì„ ì„±ê³µì‹œí‚¨ë‹¤.</li>\n</ol>\n<p>ê·¸ëŸ¬ë‚˜ ìœ„ì™€ ê°™ì€ ë¡œì§ìœ¼ë¡œ ì‘ì„±í•˜ë‹ˆ if ë¶„ê¸°ê°€ ìƒê¸°ê¸°ë„ í•˜ê³ , ë³µì¡í•´ì§€ê¸°ë„ í•´ì„œ ì–´ë–»ê²Œ ê°œì„ í• ì§€ ê³ ë¯¼í•˜ë‹¤ê°€, ì˜ˆì „ì— íšŒì‚¬ì—ì„œ ê¸°ì¡´ ë°±ì—”ë“œ ì„œë²„ ë¦¬íŒ©í† ë§ í”„ë¡œì íŠ¸ë¥¼ í•  ë•Œ ë°°ì› ë˜ <code class=\"language-text\">ON DUPLICATE KEY UPDATE</code>ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">createQnAScrap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> qnaId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Long</span> memberId <span class=\"token operator\">=</span> <span class=\"token function\">getMemberId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    qnaScrapRepository<span class=\"token punctuation\">.</span><span class=\"token function\">createOrUpdateQnAScrap</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> qnaId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@Modifying</span>\n<span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span>\n    nativeQuery <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    value <span class=\"token operator\">=</span> <span class=\"token string\">\"INSERT INTO qna_scrap (member_id, qna_id) \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"VALUES (:memberId, :qnaId) \"</span> <span class=\"token operator\">+</span>\n            <span class=\"token string\">\"ON DUPLICATE KEY UPDATE is_deleted = IF(is_deleted, 0, 1)\"</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">createOrUpdateQnAScrap</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberId\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"qnaId\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> qnaId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">ON DUPLICATE KEY UPDATE</code>ëŠ” ì¤‘ë³µëœ keyê°’ì´ ìˆëŠ” ê²½ìš° ì§€ì •ëœ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ê³ , ì•„ë‹ˆë¼ë©´ <code class=\"language-text\">INSERT</code>í•˜ëŠ” ì¿¼ë¦¬ì´ë‹¤.</p>\n<p><a href=\"https://github.com/techeer-TIL-group/yu-heejin/blob/main/Database/on-duplicate-key-update.md\"></a></p>\n<p>ìœ„ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ í† ê¸€ ë°©ì‹ì„ ë” ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆë‹¤. ğŸ˜†</p>","frontmatter":{"date":"February 01, 2024","title":"Q&A ì¶”ì²œ/ë¹„ì¶”ì²œ, Q&A ìŠ¤í¬ë© - ë°”ì¸ë”© ë³€ìˆ˜ ì‚¬ìš©, ì¿¼ë¦¬ë¬¸ ë° ë¡œì§ ê°œì„ ","categories":"Backend","author":"ìœ í¬ì§„","emoji":"â˜ï¸"},"fields":{"slug":"/b-improve-query/"}},"site":{"siteMetadata":{"siteUrl":"https://flow-team-project.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/b-branch-convention/","nextSlug":"/b-code-convention/","prevSlug":"/b-improve-query/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}